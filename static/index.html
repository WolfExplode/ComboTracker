<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combo Trainer</title>
    <link rel="stylesheet" href="style.css?v=8">
</head>
<body>
    <div class="container">
        
        <!-- SECTION 1: Add/Edit Combo -->
        <section class="section">
            <h2>Add New Combo</h2>
            <div class="form-grid">
                <label>Name:</label>
                <input type="text" id="comboName" placeholder="e.g., Rocket Jump">
                
                <label>Inputs:</label>
                <textarea id="comboInputs" rows="3" placeholder="a, w, wait:0.2, LMB, hold(space,0.3), d, RMB"></textarea>
                
                <div class="help-text">
                    LMB, RMB, MMB for mouse. Hold: hold(space,0.2) or space{200ms}. Wait (soft): wait:0.5 (or wait_soft:0.5). Hard wait: wait_hard:0.5 (early press drops combo).
                </div>

                <label>Expected time:</label>
                <input type="text" id="comboExpectedTime" placeholder="e.g., 1.05s or 1050ms">

                <label>Your difficulty:</label>
                <input type="text" id="comboUserDifficulty" placeholder="0–10 (optional)">

                <label>Combo Enders:</label>
                <input type="text" id="comboEnders" placeholder="q:0.2, e:0.2, lmb, 1, 2, 3">
            </div>
            <div class="button-row">
                <button id="saveBtn">Save / Update</button>
                <button id="newBtn">New</button>
            </div>
        </section>

        <!-- SECTION 2: Practice Controls -->
        <section class="section">
            <h2>Practice</h2>
            <div class="practice-controls">
                <select id="comboSelector">
                    <option value="">— Select Combo —</option>
                </select>
                <button id="deleteBtn">Delete</button>
                <button id="clearBtn">Clear History</button>
            </div>
        </section>

        <!-- SECTION 3: Status & Stats -->
        <section class="section status-section">
            <div id="statusDisplay" class="status-ready">Status: Select a combo to start</div>
            <div id="minTimeDisplay" class="time-display">Fastest possible: —</div>
            <div id="difficultyDisplay" class="time-display">Difficulty: —</div>
            <div id="userDifficultyDisplay" class="time-display">Your difficulty: —</div>
            <div id="apmDisplay" class="time-display">Practical APM: —</div>
            <div id="apmMaxDisplay" class="time-display">Theoretical max APM: —</div>
            <div id="statsDisplay" class="stats-display">Stats: —</div>
        </section>

        <!-- SECTION 4: Visual Combo Timeline -->
        <section class="section">
            <h3>Combo Steps</h3>
            <div id="comboTimeline" class="timeline">
                <!-- Steps will be rendered here -->
            </div>
        </section>

        <!-- SECTION 5: Live Results -->
        <section class="section">
            <h3>Attempt Log</h3>
            <div id="resultsTable" class="results-table">
                <div class="table-header">
                    <span>Input</span>
                    <span>Split (ms)</span>
                    <span>Total (ms)</span>
                </div>
                <div id="resultsBody"></div>
            </div>
        </section>

        <!-- SECTION 6: Failure Analysis -->
        <section class="section">
            <h3>Failure Analysis</h3>
            <div id="failTable" class="fail-table">
                <div class="table-header">
                    <span>Fail Reason</span>
                    <span>Count</span>
                </div>
                <div id="failBody"></div>
            </div>
        </section>

    </div>

    <script src="app.js?v=8"></script>
</body>
</html>